    <link rel="import" href="../bower_components/polymer/polymer.html">
   
    
    <polymer-element name="esri-marker" attributes="lng lat">
        
        <template>
            <div></div>
        </template>
        
        <script>     
                
            var featureLayerCount = 0;
            
            Polymer("esri-marker", {

                // Set some attribute defaults if none set
                lat : 0,
                lng : 0,
                
                domReady : function() {
                    console.log("MARKER");
                    var lat = this.lat;
                    var lng = this.lng;
                    var parent = this.parentNode;
                    var marker = ["", "", ""];
                    if (parent.tagName == "ESRI-MAP" ) { 
                        if ( typeof lng !== null ||  typeof lng !== undefined ||  typeof lng !== "" ||  
                             typeof lat !== null ||  typeof lat !== undefined ||  typeof lat !== "" ) {
                            
                            marker[0] = [lng, lat]
                           
                            var tag;
                            var textContent;
                            for (var i = 0; i < this.children.length; i++) {
                                tag = this.children[i].tagName;
                                textContent = this.children[i].textContent;
                                
                                if (tag == "ESRI-MARKER-TITLE") {
                                    var title = textContent;
                                }
                                if (tag == "ESRI-MARKER-CONTENT") {
                                    var content = textContent;
                                }
                            }
                            
                            marker[1] = title;
                            marker[2] = content;
                            
                            console.log("marker:", marker);
                            parent.markerList.push(marker);
                            
                        }
                    }
                    
                }
            });  // End of Polymer
           
       
        </script>
      
    </polymer-element>
